<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Grid de Bootstrap</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, 
	initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        .encabezado {
            background: #6EACDA;
            color: #021526;
            margin-bottom: 20px;
        }

        .main {
            background: #f2f2f2;
            margin-bottom: 20px;
        }

        aside {
            background: #FF5F49;
            color: #fff;
        }

        .widgets {
            margin-bottom: 20px;
        }

        .widget {
            background: #f2f2f2;
        }

        .color {
            background: #d2d2d2;
        }

        footer {
            background: #452745;
            color: #fff;
        }
    </style>

</head>

<body>

    <!--
	Medidas 			Dispositivo
	==============================================
	xs - Extra Small 	Telefonos y MENOS de 768px
	sm - Small  		Tablets y MAS de 768px
	md - Medium  		Computadoras y MAS de 992px
	lg - Large	 		Computadoras, Pantallas y MAS de 1200px
-->

    <div class="container">
        <header class="row">
            <div class="encabezado col-md-12">
                <h1>Header</h1>
                <h4>12 Columnas</h4>
            </div>
        </header>
        <section class="main row">
            <article class="col-xs-12 col-sm-8 col-md-9 col-lg-9">
                <h2>Articulo - Article</h2>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">8 Columnas</h4>
                <h4 class="visible-md">9 Columnas</h4>
                <h4 class="visible-lg">9 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </article>

            <aside class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                <h3>Sidebar</h3>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">4 Columnas</h4>
                <h4 class="visible-md">3 Columnas</h4>
                <h4 class="visible-lg">3 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </aside>
        </section>

        <section class="widgets row">
            <div class="widget col-xs-12 col-sm-6 col-md-3">
                <h3>Widget</h3>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">6 Columnas</h4>
                <h4 class="visible-md">3 Columnas</h4>
                <h4 class="visible-lg">3 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium exercitationem fugit, sed rem
                    atque consectetur cupiditate dolorum accusamus, sunt a.</p>
            </div>

            <div class="widget color col-xs-12 col-sm-6 col-md-3">
                <h3>Widget</h3>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">6 Columnas</h4>
                <h4 class="visible-md">3 Columnas</h4>
                <h4 class="visible-lg">3 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium exercitationem fugit, sed rem
                    atque consectetur cupiditate dolorum accusamus, sunt a.</p>
            </div>

            <div class="widget col-xs-12 col-sm-6 col-md-3">
                <h3>Widget</h3>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">6 Columnas</h4>
                <h4 class="visible-md">3 Columnas</h4>
                <h4 class="visible-lg">3 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium exercitationem fugit, sed rem
                    atque consectetur cupiditate dolorum accusamus, sunt a.</p>
            </div>

            <div class="widget color col-xs-12 col-sm-6 col-md-3">
                <h3>Widget</h3>
                <h4 class="visible-xs">12 Columnas</h4>
                <h4 class="visible-sm">6 Columnas</h4>
                <h4 class="visible-md">3 Columnas</h4>
                <h4 class="visible-lg">3 Columnas</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium exercitationem fugit, sed rem
                    atque consectetur cupiditate dolorum accusamus, sunt a.</p>
            </div>
        </section>

        <footer class="row">
            <div class="col-md-12">
                <h3>Footer</h3>
                <h4>12 Columnas</h4>
            </div>
        </footer>
    </div>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>


document.addEventListener('DOMContentLoaded', () => {
    const weekFields = document.getElementById('weekFields');
    const addWeekButton = document.getElementById('addWeek');

    let weekCount = 0;
    const exercises = [
        'Press plano en máquina',
        'Press inclinado en máquina',
        'Press declinado en máquina',
        'Sentadilla',
        'Peso muerto',
        'Dominadas',
        'Flexiones',
        'Plancha'
    ]; // Lista de ejercicios predefinidos

    // Función para agregar una nueva semana
    addWeekButton.addEventListener('click', () => {
        if (weekCount >= 4) { // Máximo 4 semanas
            alert('El plan no puede tener más de 4 semanas.');
            return;
        }

        weekCount++;
        const newWeek = document.createElement('div');
        newWeek.className = 'mb-4 week-group';
        newWeek.innerHTML = `
        <h4>Semana ${weekCount}</h4>
        <div id="dayFields-week-${weekCount}">
          <button type="button" class="btn btn-secondary add-day" data-week="${weekCount}">+ Agregar Día</button>
        </div>
      `;
        weekFields.appendChild(newWeek);
    });

    // Función para agregar un nuevo día con campo de ejercicio
    weekFields.addEventListener('click', (event) => {
        if (event.target && event.target.classList.contains('add-day')) {
            const weekId = event.target.dataset.week;
            const dayFields = document.getElementById(`dayFields-week-${weekId}`);
            const dayCount = dayFields.getElementsByClassName('day-group').length;

            if (dayCount >= 7) { // Máximo 7 días por semana
                alert('Una semana no puede tener más de 7 días.');
                return;
            }






            const newDay = document.createElement('div');
            newDay.className = 'mb-3 day-group col-sm-6 col-md-4 col-lg-3 col-xl-2';
            newDay.innerHTML = `
        <label for="day-${dayCount}" class="form-label">Día ${dayCount+1}</label>
        <input type="text" class="form-control exercise-field" placeholder="Ejercicio" name="exercise-day-${dayCount}[]">
        <button type="button" class="btn btn-sm btn-secondary add-exercise mt-2">+ Agregar Ejercicio</button>
      `;
            dayFields.appendChild(newDay);
        }
    });

    // Delegación de eventos para agregar ejercicios dentro de un día
    weekFields.addEventListener('click', (event) => {
        if (event.target && event.target.classList.contains('add-exercise')) {
            const exerciseField = document.createElement('input');
            exerciseField.type = 'text';
            exerciseField.className = 'form-control exercise-field mt-2';
            exerciseField.placeholder = 'Ejercicio';
            event.target.parentNode.insertBefore(exerciseField, event.target);
        }
    });

    // Función de autocompletado
    weekFields.addEventListener('input', (event) => {
        if (event.target && event.target.classList.contains('exercise-field')) {
            const input = event.target;
            const suggestions = document.createElement('ul');
            suggestions.className = 'list-group position-absolute';
            suggestions.style.zIndex = 1000;

            // Limpiar sugerencias anteriores
            input.nextSibling?.remove();

            const filteredExercises = exercises.filter(ex =>
                ex.toLowerCase().includes(input.value.toLowerCase())
            );

            filteredExercises.forEach(ex => {
                const item = document.createElement('li');
                item.className = 'list-group-item';
                item.textContent = ex;
                item.style.cursor = 'pointer';
                item.addEventListener('click', () => {
                    input.value = ex;
                    suggestions.remove();
                });
                suggestions.appendChild(item);
            });

            input.parentNode.appendChild(suggestions);
        }
    });

    // Eliminar las sugerencias cuando el input pierde el foco
    weekFields.addEventListener('focusout', (event) => {
        if (event.target && event.target.classList.contains('exercise-field')) {
            setTimeout(() => event.target.nextSibling?.remove(), 200);
        }
    });
});